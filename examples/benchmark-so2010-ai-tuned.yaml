# StackOverflow2010 benchmark - AI-suggested tuning
# Source: mssql-so2010 (port 1433)
# Target: postgres-target (port 5433)

source:
  type: mssql
  host: localhost
  port: 1433
  database: StackOverflow2010
  user: sa
  password: ${MSSQL_PASSWORD}  # Set via environment variable
  schema: dbo
  encrypt: false
  trust_server_cert: true

target:
  type: postgres
  host: localhost
  port: 5433
  database: stackoverflow
  user: postgres
  password: ${POSTGRES_PASSWORD}  # Set via environment variable
  schema: public
  ssl_mode: disable

migration:
  # AI-suggested values for SO2010 (19.3M rows, ~511 bytes/row)
  # Updated with aggressive tuning - matching formula chunk size
  workers: 12
  chunk_size: 125000
  read_ahead_buffers: 11
  max_partitions: 12
  large_table_threshold: 1000000
  # Buffer memory: ~7.7GB (workers * buffers * chunk_size * avg_row_bytes)

  create_indexes: false
  create_foreign_keys: false
  create_check_constraints: false
  target_mode: drop_recreate
